!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],t):t(e["ngx-img-fallback"]={},e.ng.core)}(this,function(e,t){"use strict";var r=function(){function e(e,r){this.el=e,this.renderer=r,this.loaded=new t.EventEmitter,this.isApplied=!1,this.ERROR_EVENT_TYPE="error",this.LOAD_EVENT_TYPE="load",this.nativeElement=e.nativeElement,this.onError=this.onError.bind(this),this.onLoad=this.onLoad.bind(this),this.addEvents()}return e.prototype.ngOnDestroy=function(){this.removeErrorEvent(),this.removeOnLoadEvent()},e.prototype.onError=function(){this.nativeElement.getAttribute("src")!==this.imgSrc?(this.isApplied=!0,this.renderer.setAttribute(this.nativeElement,"src",this.imgSrc)):this.removeOnLoadEvent()},e.prototype.onLoad=function(){this.loaded.emit(this.isApplied)},e.prototype.removeErrorEvent=function(){this.cancelOnError&&this.cancelOnError()},e.prototype.removeOnLoadEvent=function(){this.cancelOnLoad&&this.cancelOnLoad()},e.prototype.addEvents=function(){this.cancelOnError=this.renderer.listen(this.nativeElement,this.ERROR_EVENT_TYPE,this.onError),this.cancelOnLoad=this.renderer.listen(this.nativeElement,this.LOAD_EVENT_TYPE,this.onLoad)},e}();r.decorators=[{type:t.Directive,args:[{selector:"[src-fallback]"}]}],r.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},r.propDecorators={imgSrc:[{type:t.Input,args:["src-fallback"]}],loaded:[{type:t.Output,args:["loaded"]}]};var n=function(){return function(){}}();n.decorators=[{type:t.NgModule,args:[{declarations:[r],exports:[r]}]}],n.ctorParameters=function(){return[]},e.ImgFallbackModule=n,e.ImgFallbackDirective=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-img-fallback.umd.min.js.map
